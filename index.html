<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>To Do Vue</title>
   <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
   <link rel="stylesheet" href="css/style.css">
</head>

<body>
   <div id="app">

      <popup v-show="popup" :data-popup="popup" @done-popup="donePopup" @close-popup="clearPopup"></popup>

      <div class="main">
         <div class="notes-wrapp" id="view">
           
            <template v-if="currpage == 'main-page'">
               <h1 class="title">Мои заметки • <span class="notes-length">{{ notes.length }}</span></h1>

               <note @show-popup="showPopup" @edit-note="editPage"  v-for="(note, i) in notes" :key="i" :title='note.title' :todolist="note.todo_items" :editable="false"></note>

               <add-note @add-note="pushNote" ></add-note>
            </template>


            <template v-else-if="currpage == 'note-page'">
               <a href="javascript:history.back()"><i class="fa fa-arrow-left" aria-hidden="true"></i> Вернуться к списку</a>
               <h1 class="title">{{currentPage.title}} <span class="notes-length"></span></h1>
               
               <note @show-popup="showPopup" @edit-note="editPage" :key="1" :title='editNote.title' :todolist="editNote.todo_items" :editable="true"></note>               
               
               <div class="note-footer">
                  <button class="btn cancel" v-on:click="cancel()"><i class="fa fa-close" aria-hidden="true"></i> Отмена</button>
                  <button class="btn confirm" :disabled="!isReadyForSave" v-on:click="updateNote()"><i class="fa fa-floppy-o" aria-hidden="true"></i> Сохранить</button>
               </div>
            </template>

         </div>
      </div>

   </div>

   <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
   <script src="js/components.js"></script>
   <script src="js/script.js"></script>
</body>

</html>